{% extends "tournaments/base.html" %}
{% block title %}Add Form Fields{% endblock %}

{% block content %}
<h2>Add Form Fields</h2>
<form method="POST">
    <label for="tournament_id">Tournament:</label>
    <select name="tournament_id" id="tournament_id" required>
        {% for tournament in tournaments %}
        <option value="{{ tournament.id }}">{{ tournament.name }}</option>
        {% endfor %}
    </select>

    <div id="fields">
        <div class="field-row">
            <input type="text" name="label" placeholder="Field Label" required>
            <select name="type" required>
                <option value="text">Text</option>
                <option value="radio">Radio</option>
                <option value="dropdown">Dropdown</option>
                <option value="checkbox">Checkbox</option>
            </select>
            <input type="text" name="options" placeholder="Options (comma-separated)">
            <label>
                Required:
                <input type="checkbox" name="required">
            </label>
        </div>
    </div>
    <button type="button" onclick="addField()">Add Another Field</button>
    <button type="submit">Save Form</button>
</form>

<script>
function addField() {
    var container = document.getElementById("fields");
    var fieldRow = document.createElement("div");
    fieldRow.className = "field-row";
    fieldRow.innerHTML = `
        <input type="text" name="label" placeholder="Field Label" required>
        <select name="type" required>
            <option value="text">Text</option>
            <option value="radio">Radio</option>
            <option value="dropdown">Dropdown</option>
            <option value="checkbox">Checkbox</option>
        </select>
        <input type="text" name="options" placeholder="Options (comma-separated)">
        <label>
            Required:
            <input type="checkbox" name="required">
        </label>
    `;
    container.appendChild(fieldRow);
}
</script>
{% endblock %}